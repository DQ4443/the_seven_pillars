@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ==========================================
   PRESTIGE DESIGN SYSTEM
   Dr Ricky's Education - 曲博士教育
   "Private Medical Practice meets Ivy League"
   ========================================== */

@theme inline {
  /* Typography - Prestige System */
  --font-sans: var(--font-inter), system-ui, sans-serif;
  --font-serif: var(--font-merriweather), Georgia, serif;
  --font-serif-cn: var(--font-noto-serif-sc), "Songti SC", serif;

  /* Prestige Color Palette */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-destructive: var(--destructive);
  --color-gold: var(--gold);
  --color-gold-foreground: var(--gold-foreground);

  /* Refined Radii */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;
  --radius-3xl: 32px;
  --radius-full: 9999px;

  /* Chart colors (keeping for compatibility) */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Sidebar (keeping for portal compatibility) */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 16px;

  /* ========================================
     PRESTIGE COLOR PALETTE - Light Mode
     "Private Medical Practice meets Ivy League"
     ======================================== */

  /* Backgrounds */
  --background: #F9F9F7;           /* Warm Alabaster - The canvas */
  --card: #FFFFFF;                 /* Pure White for cards */
  --popover: #FFFFFF;
  --muted: #F3F3F1;                /* Subtle warm gray */

  /* Foregrounds - Never pure black */
  --foreground: #333333;           /* Charcoal - primary text */
  --card-foreground: #333333;
  --popover-foreground: #333333;
  --muted-foreground: #666666;     /* Muted charcoal */

  /* Primary - Oxford Blue (Authority) */
  --primary: #0E2A47;              /* Oxford Blue */
  --primary-foreground: #FFFFFF;

  /* Secondary - Muted Gold (Prestige) */
  --secondary: #C5A059;            /* Muted Gold */
  --secondary-foreground: #0E2A47;

  /* Accent - Gold for highlights and special CTAs */
  --accent: #C5A059;               /* Muted Gold */
  --accent-foreground: #0E2A47;

  /* Gold color for explicit use */
  --gold: #C5A059;
  --gold-foreground: #0E2A47;

  /* Borders & Inputs */
  --border: #E5E5E3;               /* Warm gray border */
  --input: #E5E5E3;
  --ring: #0E2A47;                 /* Oxford Blue for focus */

  /* Destructive */
  --destructive: #B85C4D;          /* Muted red */

  /* Chart colors */
  --chart-1: #0E2A47;              /* Oxford Blue */
  --chart-2: #C5A059;              /* Muted Gold */
  --chart-3: #666666;              /* Charcoal */
  --chart-4: #8B9DC3;              /* Light blue-gray */
  --chart-5: #333333;              /* Dark charcoal */

  /* Sidebar (portal) */
  --sidebar: #F9F9F7;
  --sidebar-foreground: #333333;
  --sidebar-primary: #0E2A47;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #F3F3F1;
  --sidebar-accent-foreground: #333333;
  --sidebar-border: #E5E5E3;
  --sidebar-ring: #0E2A47;
}

/* Dark mode - Elegant dark palette */
.dark {
  --background: #1A1A1A;
  --foreground: #F0F0EE;
  --card: #242424;
  --card-foreground: #F0F0EE;
  --popover: #242424;
  --popover-foreground: #F0F0EE;
  --muted: #2D2D2D;
  --muted-foreground: #A0A0A0;
  --primary: #4A7BB7;              /* Lighter Oxford Blue for dark mode */
  --primary-foreground: #FFFFFF;
  --secondary: #D4B86A;            /* Lighter Gold */
  --secondary-foreground: #1A1A1A;
  --accent: #D4B86A;
  --accent-foreground: #1A1A1A;
  --gold: #D4B86A;
  --gold-foreground: #1A1A1A;
  --border: #3D3D3D;
  --input: #3D3D3D;
  --ring: #4A7BB7;
  --destructive: #D4917D;
  --sidebar: #1A1A1A;
  --sidebar-foreground: #F0F0EE;
  --sidebar-primary: #4A7BB7;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #2D2D2D;
  --sidebar-accent-foreground: #F0F0EE;
  --sidebar-border: #3D3D3D;
  --sidebar-ring: #4A7BB7;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    line-height: 1.6;
  }

  /* Chinese text line height */
  [lang="zh"] body,
  .lang-zh {
    line-height: 1.8;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Typography defaults - Merriweather for headings */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    @apply font-bold tracking-tight text-foreground;
  }

  /* Chinese headings use Noto Serif SC */
  [lang="zh"] h1, [lang="zh"] h2, [lang="zh"] h3,
  [lang="zh"] h4, [lang="zh"] h5, [lang="zh"] h6,
  .lang-zh h1, .lang-zh h2, .lang-zh h3,
  .lang-zh h4, .lang-zh h5, .lang-zh h6 {
    font-family: var(--font-serif-cn), var(--font-serif);
  }

  /* Focus states - Oxford Blue ring */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary/50 ring-offset-2 ring-offset-background;
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer components {
  /* ========================================
     PRESTIGE BUTTON SYSTEM
     ======================================== */

  /* Primary Button - Oxford Blue */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-lg px-6 py-3;
    @apply bg-primary text-primary-foreground;
    @apply text-sm font-semibold;
    @apply transition-all duration-300 ease-out;
    @apply hover:bg-primary/90 hover:shadow-lg;
    @apply active:scale-[0.98];
  }

  /* Gold Button - For CTAs */
  .btn-gold {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-lg px-6 py-3;
    @apply bg-accent text-accent-foreground;
    @apply text-sm font-semibold;
    @apply transition-all duration-300 ease-out;
    @apply hover:bg-accent/90 hover:shadow-lg;
    @apply active:scale-[0.98];
  }

  /* Outline Button */
  .btn-outline {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-lg px-6 py-3;
    @apply bg-transparent border-2 border-primary text-primary;
    @apply text-sm font-semibold;
    @apply transition-all duration-300 ease-out;
    @apply hover:bg-primary hover:text-primary-foreground;
    @apply active:scale-[0.98];
  }

  /* Legacy botanical button (keeping for compatibility) */
  .btn-botanical {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-lg px-6 py-3;
    @apply bg-primary text-primary-foreground;
    @apply text-sm font-semibold;
    @apply transition-all duration-300 ease-out;
    @apply hover:bg-primary/90 hover:shadow-lg;
    @apply active:scale-[0.98];
  }

  .btn-botanical-outline {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-lg px-6 py-3;
    @apply bg-transparent border-2 border-primary text-primary;
    @apply text-sm font-semibold;
    @apply transition-all duration-300 ease-out;
    @apply hover:bg-primary hover:text-primary-foreground;
    @apply active:scale-[0.98];
  }

  /* ========================================
     PRESTIGE CARD SYSTEM
     ======================================== */

  /* Standard Card */
  .card-prestige {
    @apply bg-card rounded-xl;
    @apply transition-all duration-300 ease-out;
    @apply border border-border;
    box-shadow: 0 4px 6px -1px rgba(14, 42, 71, 0.05);
  }

  .card-prestige:hover {
    @apply -translate-y-1;
    box-shadow: 0 20px 40px -10px rgba(14, 42, 71, 0.1);
  }

  /* Gold Border Card - For featured content */
  .card-gold-border {
    @apply bg-card rounded-xl;
    @apply border-2 border-accent;
    @apply transition-all duration-300 ease-out;
    box-shadow: 0 4px 6px -1px rgba(197, 160, 89, 0.1);
  }

  .card-gold-border:hover {
    box-shadow: 0 20px 40px -10px rgba(197, 160, 89, 0.2);
  }

  /* Legacy card (keeping for compatibility) */
  .card-botanical {
    @apply bg-card rounded-xl;
    @apply transition-all duration-300 ease-out;
    @apply border border-border;
    box-shadow: 0 4px 6px -1px rgba(14, 42, 71, 0.05);
  }

  .card-botanical:hover {
    @apply -translate-y-1;
    box-shadow: 0 20px 40px -10px rgba(14, 42, 71, 0.1);
  }

  /* ========================================
     SECTION SYSTEM
     ======================================== */

  /* Section spacing */
  .section-prestige {
    @apply py-16 md:py-24 lg:py-32;
    @apply relative;
  }

  .section-botanical {
    @apply py-16 md:py-24 lg:py-32;
    @apply relative;
  }

  /* Section transition gradients */
  .section-fade-top {
    @apply absolute top-0 left-0 right-0 h-24 md:h-32 pointer-events-none;
    background: linear-gradient(to bottom, var(--background), transparent);
  }

  .section-fade-bottom {
    @apply absolute bottom-0 left-0 right-0 h-24 md:h-32 pointer-events-none;
    background: linear-gradient(to top, var(--background), transparent);
  }

  /* ========================================
     TYPOGRAPHY SYSTEM
     ======================================== */

  /* Prestige Headings */
  .heading-prestige {
    font-family: var(--font-serif);
    @apply text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight;
  }

  .heading-prestige-sm {
    font-family: var(--font-serif);
    @apply text-2xl md:text-3xl font-bold text-foreground;
  }

  /* Legacy heading (keeping for compatibility) */
  .heading-botanical {
    font-family: var(--font-serif);
    @apply text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight;
  }

  .heading-botanical-sm {
    font-family: var(--font-serif);
    @apply text-2xl md:text-3xl font-bold text-foreground;
  }

  /* Gold text highlight */
  .text-gold-highlight {
    @apply text-accent font-bold;
  }

  /* ========================================
     MOBILE STICKY BAR
     ======================================== */

  .sticky-conversion-bar {
    @apply fixed bottom-0 left-0 right-0 z-999;
    @apply flex md:hidden;
    @apply bg-background border-t border-border;
    @apply shadow-[0_-4px_20px_rgba(0,0,0,0.1)];
    padding-bottom: env(safe-area-inset-bottom);
  }

  .sticky-conversion-bar .btn-wechat {
    @apply flex-[0.4] flex items-center justify-center gap-2;
    @apply py-4 bg-primary text-primary-foreground;
    @apply text-sm font-semibold;
    @apply transition-colors duration-200;
  }

  .sticky-conversion-bar .btn-cta {
    @apply flex-[0.6] flex items-center justify-center gap-2;
    @apply py-4 bg-accent text-accent-foreground;
    @apply text-sm font-semibold;
    @apply transition-colors duration-200;
  }
}

@layer utilities {
  /* Font utilities */
  .font-serif {
    font-family: var(--font-serif);
  }

  .font-serif-cn {
    font-family: var(--font-serif-cn);
  }

  .font-sans {
    font-family: var(--font-sans);
  }

  /* Prestige shadows */
  .shadow-prestige {
    box-shadow: 0 4px 6px -1px rgba(14, 42, 71, 0.05);
  }

  .shadow-prestige-md {
    box-shadow: 0 10px 15px -3px rgba(14, 42, 71, 0.08);
  }

  .shadow-prestige-lg {
    box-shadow: 0 20px 40px -10px rgba(14, 42, 71, 0.1);
  }

  .shadow-prestige-xl {
    box-shadow: 0 25px 50px -12px rgba(14, 42, 71, 0.15);
  }

  /* Legacy shadow utilities (keeping for compatibility) */
  .shadow-botanical {
    box-shadow: 0 4px 6px -1px rgba(14, 42, 71, 0.05);
  }

  .shadow-botanical-md {
    box-shadow: 0 10px 15px -3px rgba(14, 42, 71, 0.08);
  }

  .shadow-botanical-lg {
    box-shadow: 0 20px 40px -10px rgba(14, 42, 71, 0.1);
  }

  .shadow-botanical-xl {
    box-shadow: 0 25px 50px -12px rgba(14, 42, 71, 0.15);
  }

  /* Gold accent utilities */
  .border-gold {
    border-color: var(--gold);
  }

  .bg-gold {
    background-color: var(--gold);
  }

  .text-gold {
    color: var(--gold);
  }

  /* Touch-friendly tap targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }
}
